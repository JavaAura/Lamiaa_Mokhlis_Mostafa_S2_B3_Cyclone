<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orders List</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
	tailwind.config = {
		theme : {
			extend : {
				colors : {
					primary : '#FF0000',
					secondary : '#002244',
				}
			}
		}
	}
</script>
</head>

<body class="bg-gray-100">
	<!-- Top navbar -->
	<nav class="bg-secondary text-white">
		<div
			class="container mx-auto px-4 py-3 flex justify-between items-center">
			<div class="text-2xl font-bold">
				<span class="text-primary">C</span>YCLONE
			</div>
			<div>878-9674-4455</div>
		</div>
	</nav>

	<!-- Menu navbar -->
	<div class="bg-primary">
		<div class="container mx-auto px-4">
			<ul class="flex justify-center space-x-6 py-4">
				<li><a href="home.html"
					class="text-white font-bold hover:text-secondary">Home</a></li>
				<li><a href="products.html"
					class="text-white font-bold hover:text-secondary">Products</a></li>
				<li><a href="contact.html"
					class="text-white font-bold hover:text-secondary">Contact</a></li>
			</ul>
		</div>
	</div>

	<div class="container mx-auto px-4 py-8">
		<h1 class="text-3xl font-bold mb-6 text-secondary">Orders List</h1>

		<div th:if="${orders.isEmpty()}">
			<p class="text-gray-600">No orders available.</p>
		</div>

		<form th:action="@{/orders}" method="post">
		<input type="hidden" name="action" value="updateOrder" />
			<table class="w-full bg-white shadow-md rounded-lg overflow-hidden">
				<thead class="bg-secondary text-white">
					<tr>
						<th class="py-3 px-4 text-left">Order Date</th>
						<th class="py-3 px-4 text-left">Client</th>
						<th class="py-3 px-4 text-left">Quantity</th>
						<th class="py-3 px-4 text-left">Status</th>
						<th class="py-3 px-4 text-left">Unit price</th>
						<th class="py-3 px-4 text-left">Total price</th>
						<th class="py-3 px-4 text-center">Actions</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="order : ${orders}">
						<td class="py-3 px-4"><span th:text="${order.orderDate}"></span>
						</td>
						<td class="py-3 px-4"><span
							th:text="${order.client.firstName + ' ' + order.client.lastName}"></span>
						</td>
						<td class="py-3 px-4"><input type="number" name="quantity"
							class="border p-2" min="1" th:value="${order.quantity}">
						</td>
						<td class="py-3 px-4"><span th:text="${order.status}"></span>
						</td>
						<td class="py-3 px-4"><span
							th:text="${order.products[0].price}"></span></td>
						<td class="py-3 px-4 text-center"><span
							th:text="${order.quantity * order.products[0].price}"></span></td>
						<td class="py-3 px-4 text-center"><input type="hidden"
							name="orderId" th:value="${order.id}">
							<button type="submit"
								class="bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600">Update</button>
							<a th:href="@{/deleteOrder(id=${order.id})}"
							class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600">Delete</a>
						</td>
					</tr>
				</tbody>
			</table>
		</form>

	</div>
</body>

</html>
